<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Details</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/talatk/data-analyst-favicon/main/favicon.png">
</head>
<body class="bg-[#06202B] text-[#F5EEDD] antialiased font-sans">
    
    <header class="sticky top-0 z-50 bg-[#06202B]/80 backdrop-blur-sm">
        <nav class="container mx-auto flex justify-between items-center py-4 px-6">
            <h1 class="text-3xl font-extrabold text-[#F5EEDD]">
                <a href="index.html">Portfolio</a>
            </h1>
            <ul class="flex space-x-6 text-lg font-medium">
                <li><a href="index.html#about" class="hover:text-[#7AE2CF] transition-colors duration-300">About Me</a></li>
                <li><a href="index.html#projects" class="hover:text-[#7AE2CF] transition-colors duration-300">Education</a></li>
                <li><a href="index.html#skills" class="hover:text-[#7AE2CF] transition-colors duration-300">Skills</a></li>
                <li><a href="index.html#education" class="hover:text-[#7AE2CF] transition-colors duration-300">Projects</a></li>
                <li><a href="index.html#contact" class="hover:text-[#7AE2CF] transition-colors duration-300">Contact</a></li>
            </ul>
        </nav>
    </header>

    <main class="container mx-auto py-20 px-6">
        <section id="project-details-section" class="bg-[#077A7D] rounded-lg p-8 shadow-xl animate-fade-in">
            <a href="index.html#projects" class="text-[#7AE2CF] hover:text-[#F5EEDD] transition-colors mb-4 inline-block font-semibold">&larr; Back to Projects</a>
            
            <img id="project-image" src="" alt="Project Image" class="rounded-lg mb-6 w-full object-cover">
            <h1 id="project-title" class="text-4xl md:text-5xl font-bold mb-4 text-[#F5EEDD]"></h1>
            
            <p id="project-description" class="text-[#F5EEDD]/80 text-justify mb-4"></p>
            
            <div id="secondary-images-container" class="grid grid-cols-1 md:grid-cols-3 gap-4 mt-8">
                </div>

            <div id="tools-section" class="mt-8">
                <h2 class="text-2xl font-bold mb-4 text-[#F5EEDD]">Tools Used</h2>
                <div id="project-tools" class="flex flex-wrap gap-2">
                    </div>
            </div>
            
            <div id="video-container" class="mt-8">
                <video id="project-video" class="w-full aspect-video rounded-lg" controls>
                    Your browser does not support the video tag.
                </video>
            </div>
            
            <div id="project-buttons" class="mt-8 flex flex-wrap gap-4">
                </div>
        </section>
    </main>

    <div id="tool-modal" class="fixed inset-0 bg-black bg-opacity-70 flex justify-center items-center z-50 hidden">
        <div class="bg-[#077A7D] p-8 rounded-lg shadow-2xl max-w-lg w-11/12 animate-fade-in-up relative">
            <button id="close-modal" class="absolute top-4 right-4 text-[#F5EEDD] hover:text-white transition-colors duration-200">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                </svg>
            </button>
            <h3 id="modal-title" class="text-3xl font-bold mb-4 text-[#7AE2CF]"></h3>
            <p id="modal-description" class="text-[#F5EEDD] text-lg"></p>
        </div>
    </div>
    
    <footer class="text-[#F5EEDD]/80 text-center py-8">
        <p>All Rights Reserved © 2024 Kareem Elrawady</p>
    </footer>

    <script>
        // هذا الكائن يحتوي على بيانات كل المشاريع
        const projects = {
            "financial-analysis": {
                title: "Human Resources Performance Analysis",
                description: "A comprehensive project to analyze a human resources data using Excel and the Pivot Table.",
                tools: [
                    { name: "Excel", description: "A powerful spreadsheet software for organizing, calculating, and analyzing data using formulas and functions." },
                    { name: "Pivot Table", description: "A data summarization tool within Excel that quickly reorganizes and aggregates data to help users analyze large datasets and identify patterns." },
                    { name: "Dashboard", description: "A visual representation of key performance indicators (KPIs) and data, often created in Excel using charts, graphs, and tables linked to underlying data, providing a quick overview for monitoring and decision-making." },
                ],
                image: "Projects/HR Project/Dashbord.JPG",
                secondaryImages: [
                    "Projects/HR Project/1.JPG",
                    "Projects/HR Project/2.JPG",
                    "Projects/HR Project/3.JPG"
                ],
                video: "Projects/HR Project/HR Project.mp4",
                githubLink: "https://github.com/2002kareem/HR-Data-Analytics"
            },
            "customer-segmentation": {
                title: "Customer Segmentation for an E-commerce Store",
                description: "Used clustering algorithms to segment customers based on their purchasing behavior. <br><br> **Results:** Contributed to targeted marketing campaigns that **increased customer retention by 18%**.",
                tools: [
                    { name: "SQL", description: "A domain-specific language used in programming and designed for managing data held in a relational database management system (RDBMS)." },
                    { name: "Python (Scikit-learn)", description: "A powerful library in Python for machine learning that offers various clustering, classification, and regression algorithms." },
                    { name: "Power BI", description: "A business analytics service from Microsoft that provides interactive visualizations and business intelligence capabilities." }
                ],
                image: "https://placehold.co/800x600/06202B/7AE2CF?text=Customer+Segmentation",
                secondaryImages: [
                    "https://placehold.co/600x400/06202B/7AE2CF?text=Customer+Data+1",
                    "https://placehold.co/600x400/06202B/7AE2CF?text=Customer+Data+2",
                    "https://placehold.co/600x400/06202B/7AE2CF?text=Customer+Data+3"
                ],
                video: "videos/customer_segmentation.mp4",
                githubLink: "https://github.com/your-username/customer-segmentation"
            },
            "sales-forecasting": {
                title: "Sales Forecasting for Retail Sector",
                description: "Built an accurate predictive model to forecast future sales based on historical data. <br><br> **Results:** Improved inventory management and reduced waste by **25%**.",
                tools: [
                    { name: "Excel", description: "A powerful spreadsheet application by Microsoft used for data organization, analysis, and calculations." },
                    { name: "SQL", description: "A domain-specific language used for managing data held in a relational database." },
                    { name: "Tableau", description: "A business intelligence and data visualization tool used for creating interactive dashboards." }
                ],
                image: "https://placehold.co/800x600/06202B/7AE2CF?text=Sales+Forecasting",
                secondaryImages: [
                    "https://placehold.co/600x400/06202B/7AE2CF?text=Sales+Chart+1",
                    "https://placehold.co/600x400/06202B/7AE2CF?text=Sales+Chart+2",
                    "https://placehold.co/600x400/06202B/7AE2CF?text=Sales+Chart+3"
                ],
                video: "videos/sales_forecasting.mp4",
                githubLink: "https://github.com/your-username/sales-forecasting"
            }
        };

        // هذه الدالة تقرأ الـ ID من الرابط وتعرض بيانات المشروع المناسبة
        function loadProjectDetails() {
            const urlParams = new URLSearchParams(window.location.search);
            const projectId = urlParams.get('id');
            const project = projects[projectId];

            if (project) {
                document.getElementById('project-title').innerHTML = project.title;
                document.getElementById('project-description').innerHTML = project.description;
                document.getElementById('project-image').src = project.image;

                // عرض الصور الثانوية
                const secondaryImagesContainer = document.getElementById('secondary-images-container');
                secondaryImagesContainer.innerHTML = '';
                project.secondaryImages.forEach(src => {
                    const img = document.createElement('img');
                    img.src = src;
                    img.alt = "Project detail image";
                    img.className = "rounded-lg w-full h-auto object-cover";
                    secondaryImagesContainer.appendChild(img);
                });

                // عرض الأدوات على شكل فقاعات بيضاوية (مع خاصية الضغط)
                const toolsSection = document.getElementById('tools-section');
                const toolsContainer = document.getElementById('project-tools');
                toolsContainer.innerHTML = '';
                if (project.tools && project.tools.length > 0) {
                    toolsSection.style.display = 'block';
                    project.tools.forEach(tool => {
                        const toolPill = document.createElement('span');
                        toolPill.textContent = tool.name;
                        toolPill.className = "bg-[#7AE2CF] text-[#06202B] text-sm font-semibold px-4 py-2 rounded-full shadow-md cursor-pointer hover:scale-105 transition-transform duration-200";
                        toolPill.onclick = () => showToolModal(tool.name, tool.description);
                        toolsContainer.appendChild(toolPill);
                    });
                } else {
                    toolsSection.style.display = 'none';
                }

                // عرض الفيديو
                const videoElement = document.getElementById('project-video');
                if (project.video) {
                    videoElement.src = project.video;
                    document.getElementById('video-container').style.display = 'block';
                } else {
                    document.getElementById('video-container').style.display = 'none';
                }
                
                // عرض أزرار المشاريع
                const projectButtonsContainer = document.getElementById('project-buttons');
                projectButtonsContainer.innerHTML = '';
                
                // زر GitHub
                if (project.githubLink) {
                    const githubButton = document.createElement('a');
                    githubButton.href = project.githubLink;
                    githubButton.target = "_blank";
                    githubButton.className = "inline-flex items-center px-6 py-2 border-2 border-[#7AE2CF] text-[#7AE2CF] rounded-full font-semibold hover:bg-[#7AE2CF] hover:text-[#06202B] transition-colors";
                    githubButton.innerHTML = `
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2" fill="currentColor" viewBox="0 0 24 24">
                            <path fill-rule="evenodd" clip-rule="evenodd" d="M12 0C5.373 0 0 5.373 0 12c0 5.302 3.438 9.803 8.207 11.387.6.11.82-.26.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61-.546-1.387-1.332-1.758-1.332-1.758-1.088-.745.083-.73.083-.73 1.205.084 1.839 1.237 1.839 1.237 1.07 1.835 2.809 1.305 3.493.998.108-.775.418-1.305.762-1.605-2.665-.304-5.466-1.334-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.124-.304-.535-1.524.117-3.18 0 0 1.008-.323 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.046.138 3.003.404 2.29-1.553 3.297-1.23 3.297-1.23.653 1.656.242 2.876.118 3.18.77.84 1.233 1.91 1.233 3.22 0 4.596-2.805 5.62-5.474 5.92-.416.36-.788 1.07-.788 2.164 0 1.56.0-2.816 0 2.26.115.823.754 1.66 1.724 1.768C19.562 21.84 24 17.34 24 12c0-6.627-5.373-12-12-12z"/>
                        </svg>
                        View on GitHub
                    `;
                    projectButtonsContainer.appendChild(githubButton);
                }

            } else {
                document.getElementById('project-details-section').innerHTML = "<h2 class='text-center text-4xl text-red-500'>Project not found!</h2>";
            }
        }

        // الدوال الجديدة للتحكم في النافذة المنبثقة
        const modal = document.getElementById('tool-modal');
        const modalTitle = document.getElementById('modal-title');
        const modalDescription = document.getElementById('modal-description');
        const closeModalButton = document.getElementById('close-modal');

        function showToolModal(name, description) {
            modalTitle.textContent = name;
            modalDescription.textContent = description;
            modal.style.display = 'flex';
        }

        closeModalButton.onclick = () => {
            modal.style.display = 'none';
        };

        window.onclick = (event) => {
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        };

        // استدعاء الدالة عند تحميل الصفحة
        window.onload = loadProjectDetails;
    </script>
</body>
</html>